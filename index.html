<html>
<head>
<script>
const timelyAdvices={
	5:'have a clear mind and fit body', 
	9:'get things done',
	12:'enjoy your lunch',
	13:'grow your wealth and freedom',
	17:'cultivate a house full of love',
	21:'have a sweet dream'
};
function updateAdvice() {
	var now = new Date();
	var minute = now.getMinutes();
	var hour = now.getHours();
	var normalizedMinute = (minute + 10) % 60;
	var timeLeft = 60-normalizedMinute;
	var infoIcon = "<a href='https://github.com/scahyono/meta-action/#readme' target='_blank'>‚ÑπÔ∏è</a>";
	var adviceText = "";
	var nowAdvice="";
	for (let i = 21; i >= 5; i--) {
		if (!timelyAdvices[i]) continue;
		if (hour>=i) {
			nowAdvice=timelyAdvices[i];
			break;
		}
	}
        if (hour>=21 || hour<5) {
		document.getElementById("breakAnimation").style.display = "none";
		document.getElementById("actionAnimation").style.display = "block";
		document.getElementById("sleepAnimation").style.display = "none";
		document.body.style.background = 'DimGray';
		timeLeft = 8 - (hour + 3) % 24;
		adviceText = "<b>Bed time! " + infoIcon + "</b><br>Have a sweet dream üò¥ for the next " + timeLeft + " hour(s)" ;
	} else if (normalizedMinute<20) { 
		document.getElementById("breakAnimation").style.display = "block";
		document.getElementById("actionAnimation").style.display = "none";
		document.getElementById("sleepAnimation").style.display = "none";
		document.body.style.background = 'MediumSeaGreen';
		timeLeft = 20-normalizedMinute;
		adviceText = "<b>Meta time! " + infoIcon + "</b><br>You have <" + timeLeft + " minute(s) for üèÉüèª, ü§≤, üìÜ, üí¨, üìö or üéÆ. "
			+ "Need more time? Then schedule it as a protected time." ;
	} else {
		document.getElementById("breakAnimation").style.display = "none";
		document.getElementById("actionAnimation").style.display = "none";
		document.getElementById("sleepAnimation").style.display = "block";
		document.body.style.background = 'SkyBlue';
		adviceText = "<b>Action time! " + infoIcon + "</b><br>Protect your time. Do something great üî•, such as " + nowAdvice 
			+ " for the next " + timeLeft + "+ minute(s). Then enjoy a quick reward üòâ afterwards." ;
	}
	document.getElementById('advice').innerHTML = adviceText;
}
window.onload = updateAdvice;
setInterval(updateAdvice, 3000);
</script>
<style>
	.float-left {
	float: left;
	width: 100px;
	}
</style>
</head>
<body>
<iframe id="breakAnimation" class="float-left" src="https://giphy.com/embed/RicRd3dDNQJM3fmkzt" width="80" height="80" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<iframe id="actionAnimation" class="float-left" src="https://giphy.com/embed/mCsVKJJ2U2gJd8qM8Y" width="60" height="80" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<iframe id="sleepAnimation" class="float-left" src="https://giphy.com/embed/Q2i2JJBiW2GpW" width="480" height="360" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<div id="advice">
	Hello world
</div>
</body>
</html>
